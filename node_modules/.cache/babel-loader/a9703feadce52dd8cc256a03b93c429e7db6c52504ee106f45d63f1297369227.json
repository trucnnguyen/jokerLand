{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nnttr\\\\OneDrive\\\\M\\xE1y t\\xEDnh\\\\Nguyen Nhat Thanh Truc\\\\CS 2250\\\\HW6\\\\src\\\\pages\\\\API.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Nav from '../components/Nav'; // Replace this with your Navbar component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API = () => {\n  _s();\n  const [joke, setJoke] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  const fetchJoke = () => {\n    setIsLoading(true); // Set loading state to true before fetching\n    fetch('https://v2.jokeapi.dev/joke/Any?safe-mode').then(response => {\n      if (!response.ok) {\n        throw new Error('Failed to fetch joke');\n      }\n      return response.json();\n    }).then(data => {\n      if (data.error) {\n        throw new Error(data.error);\n      }\n      setJoke(data.joke || `${data.setup} ${data.delivery}`); // Adapt based on the API response structure\n      setIsLoading(false);\n    }).catch(error => {\n      console.error('Error fetching joke:', error);\n      setIsLoading(false);\n    });\n  };\n  useEffect(() => {\n    fetchJoke(); // Fetch a joke when the component mounts\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"API\",\n      children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Random Joke\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchJoke,\n        children: \"Get New Joke\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading joke...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"joke-container\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: joke\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(API, \"jgs15Iaoa+EU5Qbe3tMqHUmh2cs=\");\n_c = API;\nexport default API;\nvar _c;\n$RefreshReg$(_c, \"API\");","map":{"version":3,"names":["React","useState","useEffect","Nav","jsxDEV","_jsxDEV","Fragment","_Fragment","API","_s","joke","setJoke","isLoading","setIsLoading","fetchJoke","fetch","then","response","ok","Error","json","data","error","setup","delivery","catch","console","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/nnttr/OneDrive/Máy tính/Nguyen Nhat Thanh Truc/CS 2250/HW6/src/pages/API.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Nav from '../components/Nav'; // Replace this with your Navbar component\r\n\r\nconst API = () => {\r\n  const [joke, setJoke] = useState('');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const fetchJoke = () => {\r\n    setIsLoading(true); // Set loading state to true before fetching\r\n    fetch('https://v2.jokeapi.dev/joke/Any?safe-mode')\r\n      .then(response => {\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch joke');\r\n        }\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        if (data.error) {\r\n          throw new Error(data.error);\r\n        }\r\n        setJoke(data.joke || `${data.setup} ${data.delivery}`); // Adapt based on the API response structure\r\n        setIsLoading(false);\r\n      })\r\n      .catch(error => {\r\n        console.error('Error fetching joke:', error);\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchJoke(); // Fetch a joke when the component mounts\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"API\">\r\n        <Nav />\r\n        <h1>Random Joke</h1>\r\n        <button onClick={fetchJoke}>Get New Joke</button>\r\n        {isLoading ? (\r\n          <p>Loading joke...</p>\r\n        ) : (\r\n          <div className=\"joke-container\">\r\n            <p>{joke}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default API;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,GAAG,MAAM,mBAAmB,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAErC,MAAMC,GAAG,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACW,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAEhD,MAAMa,SAAS,GAAGA,CAAA,KAAM;IACtBD,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;IACpBE,KAAK,CAAC,2CAA2C,CAAC,CAC/CC,IAAI,CAACC,QAAQ,IAAI;MAChB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;MACzC;MACA,OAAOF,QAAQ,CAACG,IAAI,CAAC,CAAC;IACxB,CAAC,CAAC,CACDJ,IAAI,CAACK,IAAI,IAAI;MACZ,IAAIA,IAAI,CAACC,KAAK,EAAE;QACd,MAAM,IAAIH,KAAK,CAACE,IAAI,CAACC,KAAK,CAAC;MAC7B;MACAX,OAAO,CAACU,IAAI,CAACX,IAAI,IAAK,GAAEW,IAAI,CAACE,KAAM,IAAGF,IAAI,CAACG,QAAS,EAAC,CAAC,CAAC,CAAC;MACxDX,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC,CAAC,CACDY,KAAK,CAACH,KAAK,IAAI;MACdI,OAAO,CAACJ,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5CT,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC,CAAC;EACN,CAAC;EAEDX,SAAS,CAAC,MAAM;IACdY,SAAS,CAAC,CAAC,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,oBACET,OAAA,CAAAE,SAAA;IAAAoB,QAAA,eACEtB,OAAA;MAAKuB,SAAS,EAAC,KAAK;MAAAD,QAAA,gBAClBtB,OAAA,CAACF,GAAG;QAAA0B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACP3B,OAAA;QAAAsB,QAAA,EAAI;MAAW;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACpB3B,OAAA;QAAQ4B,OAAO,EAAEnB,SAAU;QAAAa,QAAA,EAAC;MAAY;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,EAChDpB,SAAS,gBACRP,OAAA;QAAAsB,QAAA,EAAG;MAAe;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,gBAEtB3B,OAAA;QAAKuB,SAAS,EAAC,gBAAgB;QAAAD,QAAA,eAC7BtB,OAAA;UAAAsB,QAAA,EAAIjB;QAAI;UAAAmB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE;EAAC,gBACN,CAAC;AAEP,CAAC;AAACvB,EAAA,CA9CID,GAAG;AAAA0B,EAAA,GAAH1B,GAAG;AAgDT,eAAeA,GAAG;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}